/*! For license information please see recorder.js.LICENSE.txt */
!function(){"use strict";var e,t,r,n,o,i,a,s,c,l,u,d,f,p,h,v,y,g,w,m,b,S,O,k,R,I,E,A,L,_,T,P,K,M,C,x,j,D,N,B,U,F,H,Z,J,q,G,V,W,Y,z,X,$,Q,ee,te,re,ne,oe,ie,ae,se,ce,le,ue,de,fe={2593:function(e,t,r){r.d(t,{in:function(){return o},jj:function(){return s}});var n,o,i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},a=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(o||(o={}));var s=((n={})[o.DEBUG]="debug",n[o.INFO]="info",n[o.WARN]="warn",n[o.ERROR]="error",n),c=function(){function e(){this.loggingLevel=null,this.middlewares=[]}return e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.processMiddlewares.apply(this,a(["console",o.DEBUG,e],i(t),!1)),null!==this.loggingLevel&&o.DEBUG>=this.loggingLevel&&console.debug.apply(console,a([e],i(t),!1))},e.prototype.debugNoConsole=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.processMiddlewares.apply(this,a(["internal",o.DEBUG,e],i(t),!1))},e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.processMiddlewares.apply(this,a(["console",o.ERROR,e],i(t),!1)),null!==this.loggingLevel&&o.ERROR>=this.loggingLevel&&console.error.apply(console,a([e],i(t),!1))},e.prototype.errorNoConsole=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.processMiddlewares.apply(this,a(["internal",o.ERROR,e],i(t),!1))},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.processMiddlewares.apply(this,a(["console",o.INFO,e],i(t),!1)),null!==this.loggingLevel&&o.INFO>=this.loggingLevel&&console.log.apply(console,a([e],i(t),!1))},e.prototype.infoNoConsole=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.processMiddlewares.apply(this,a(["internal",o.INFO,e],i(t),!1))},e.prototype.setLoggingLevel=function(e){this.loggingLevel=e},e.prototype.setMiddleware=function(e){this.middlewares.push(e)},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.processMiddlewares.apply(this,a(["console",o.WARN,e],i(t),!1)),null!==this.loggingLevel&&o.WARN>=this.loggingLevel&&console.warn.apply(console,a([e],i(t),!1))},e.prototype.warnNoConsole=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.processMiddlewares.apply(this,a(["internal",o.WARN,e],i(t),!1))},e.prototype.processMiddlewares=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];this.middlewares.forEach((function(o){return o.apply(void 0,a([e,t,r],i(n),!1))}))},e}(),l=new c;t.ZP=l},897:function(e,t,r){r.d(t,{u:function(){return n}});var n=function(e,t){var r,n=new URL(/^https?:\/\//.test(r=e)?r:"https://".concat(r));if(!t)return n;var o=n.pathname;return o.endsWith("/")&&t.startsWith("/")&&(o=o.slice(0,-1)),new URL("".concat(o).concat(t),n.origin)}},6765:function(e,t,r){r.d(t,{t$:function(){return b},E0:function(){return S},BH:function(){return m},jq:function(){return R},x2:function(){return I},O5:function(){return w},iY:function(){return O},R2:function(){return k}});var n=r(897),o=r(2593),i=r(1593),a=function(){return e=void 0,t=void 0,n=function(){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(e){switch(e.label){case 0:return navigator.onLine?[3,2]:[4,new Promise((function(e){var t=function(){window.removeEventListener("online",t),e()};window.addEventListener("online",t),navigator.onLine&&(e(),window.removeEventListener("online",t))}))];case 1:e.sent(),e.label=2;case 2:return[2]}}))},new((r=void 0)||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n},s=r(7691),c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)},l=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},u=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d={headers:{}},f={"Content-Type":"text/plain;charset=UTF-8"},p=new Map,h=function(e,t){return l(void 0,void 0,void 0,(function(){var r,l,h,v,y,g,w,m,b,S,O,k=t.abortPreviousRequest,R=t.body,I=t.headers,E=t.baseUrl,A=t.throwOnConvert,L=void 0!==A&&A,_=t.retryCount,T=void 0===_?3:_,P=t.retryInterval,K=void 0===P?1e3:P,M=t.logPayloadOnError,C=void 0!==M&&M,x=t.waitForOnlineStatus,j=void 0!==x&&x,D=t.doNotRetryOnDocumentHidden,N=void 0!==D&&D,B=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["abortPreviousRequest","body","headers","baseUrl","throwOnConvert","retryCount","retryInterval","logPayloadOnError","waitForOnlineStatus","doNotRetryOnDocumentHidden"]);return u(this,(function(t){switch(t.label){case 0:r=n.u(E,e),(l=p.get(r.href))&&k&&(o.ZP.debug("Aborting previous request",r),l.abort("Aborted previous request.")),l=new AbortController,p.set(r.href,l),h=c(c(c(c({},d),{body:R}),B),{signal:l.signal}),void 0===I&&(h.headers=f),y=null,g=performance.now(),w=0,m=-1,S=function(e){var t,n,o,c,d;return u(this,(function(u){switch(u.label){case 0:return j?[4,a()]:[3,2];case 1:u.sent(),u.label=2;case 2:m=e,u.label=3;case 3:return u.trys.push([3,11,12,13]),1!==e?[3,5]:(g=performance.now(),[4,fetch(r.href,h)]);case 4:return v=u.sent(),[3,10];case 5:return t=new Promise((function(t){setTimeout((function(){t()}),K*Math.pow(2,e-1))})),n=new Promise((function(e){var t=function(){"hidden"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e())};document.addEventListener("visibilitychange",t),"hidden"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e())})),[4,Promise.race([t,n])];case 6:if(u.sent(),N&&"hidden"===document.visibilityState)throw new Error("Document is hidden and flag `doNotRetryOnDocumentHidden` is set to true.");return j?[4,a()]:[3,8];case 7:u.sent(),u.label=8;case 8:return g=performance.now(),[4,fetch(r.href,h)];case 9:v=u.sent(),u.label=10;case 10:return b=void 0,[3,13];case 11:if(o=u.sent(),b=o,o instanceof Error&&"AbortError"===o.name)throw p.delete(r.href),new s.M("Request was aborted.",-1,{fetchTotalMs:w,finalRetries:m},l.signal,C?JSON.stringify(R):"Payload not logged.",void 0,o);return e<T&&(!N||"hidden"!==document.visibilityState)?[2,"continue"]:[3,13];case 12:return w=performance.now()-g,[7];case 13:if(p.delete(r.href),!v)throw new s.M("API request to ".concat(r.href," failed due to connection error."),-1,{fetchTotalMs:w,finalRetries:m},l.signal,C?JSON.stringify(R):"Payload not logged.",void 0,b);if(!(v.status>399))return[3,18];u.label=14;case 14:return u.trys.push([14,16,,17]),[4,v.text()];case 15:return y=u.sent(),[3,17];case 16:if((c=u.sent())instanceof Error&&("AbortError"===c.name||"TypeError"===c.name))throw new s.M("API request to ".concat(r.href," failed with status code ").concat(v.status,"."),-1,{fetchTotalMs:w,finalRetries:m},l.signal,"Payload not logged.",v,c);return[3,17];case 17:throw new s.M("API request to ".concat(r.href," failed with status code ").concat(v.status),v.status,{fetchTotalMs:w,finalRetries:m},l.signal,C?JSON.stringify(R):"Payload not logged.",v,void 0,y);case 18:if(204===v.status)return[2,"break"];u.label=19;case 19:return u.trys.push([19,21,,22]),[4,v.json()];case 20:return y=u.sent(),[2,"break"];case 21:if((d=u.sent())instanceof Error&&("AbortError"===d.name||"TypeError"===d.name)&&e<T)return[2,"continue"];if(L&&d instanceof Error)throw"AbortError"===d.name||"TypeError"===d.name?new s.M("API request to ".concat(r.href," failed due to connection error."),-1,{fetchTotalMs:w,finalRetries:m},l.signal,C?JSON.stringify(R):"Payload not logged.",void 0,b):new i.i("Could not convert data to JSON in ".concat(r.href," request"),{originalError:d,additionalData:{status:v.status,originalErrorName:d.name,originalErrorMessage:d.message,fetchTotalMs:w,finalRetries:m,url:v.url,bodyUsed:v.bodyUsed,ok:v.ok,headers:v.headers?Array.from(v.headers):void 0,type:v.type,redirected:v.redirected,visibility:document.visibilityState,online:navigator.onLine}});if(L)throw new i.i("Unknown error happened during API call. ".concat(JSON.stringify(d)));return[3,22];case 22:return[2]}}))},O=1,t.label=1;case 1:return O<=T?[5,S(O)]:[3,4];case 2:if("break"===t.sent())return[3,4];t.label=3;case 3:return O++,[3,1];case 4:return[2,y]}}))}))},v=function(e,t){var r=t.baseUrl,o=t.body;return l(void 0,void 0,void 0,(function(){var t,i,a;return u(this,(function(s){switch(s.label){case 0:t=n.u(r,e),i=navigator.sendBeacon.bind(navigator),s.label=1;case 1:return s.trys.push([1,2,,7]),[2,i(t.href,o)];case 2:if(!((a=s.sent())instanceof TypeError&&"Illegal invocation"===a.message))return[3,6];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,fetch(t.href,{method:"POST",body:o,keepalive:!0})];case 4:return s.sent(),[2,!0];case 5:return s.sent(),[2,!1];case 6:throw a;case 7:return[2]}}))}))},y=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},g=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},w=function(e){var t=e.config,r=e.sessionId,o=e.visitorId;return y(void 0,void 0,void 0,(function(){var e,i;return g(this,(function(a){switch(a.label){case 0:return[4,h("/rec/setup-recording/website",{method:"POST",baseUrl:t.managerHost,body:JSON.stringify({key:t.projectKey,sessionId:r,visitorId:o,userId:null!==(i=t.userId)&&void 0!==i?i:void 0}),abortPreviousRequest:!1,throwOnConvert:!0,credentials:"include",logPayloadOnError:!0})];case 1:return(e=a.sent()).ok&&e.recordingAllowed?(t.isRelayProxy&&(e.recording.assetsHost=n.u(t.host,"/assets").toString(),e.recording.writerHost=n.u(t.host,"/web-writer").toString()),[2,e]):[2,e]}}))}))},m=function(e){var t=e.managerHost,r=e.sessionId,n=e.projectKey;return y(void 0,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,h("/rec/sessions/".concat(r,"/active?projectKey=").concat(n),{method:"GET",baseUrl:t,abortPreviousRequest:!0,throwOnConvert:!0})];case 1:return[2,e.sent()]}}))}))},b=function(e){var t=e.assetsHost,r=e.urls;return y(void 0,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,h("/cache",{method:"POST",baseUrl:t,body:JSON.stringify(r),abortPreviousRequest:!1,waitForOnlineStatus:!0})];case 1:return[2,e.sent()]}}))}))},S=function(e){var t=e.assetsHost,r=e.urls;return v("/cache",{baseUrl:t,body:JSON.stringify(r)})},O=function(e){var t=e.formData,r=e.writerHost,n=e.recordId,o=e.sessionId,i=e.visitorId;return y(void 0,void 0,void 0,(function(){var e,a;return g(this,(function(s){return e="/rec/v2/write",window.URLSearchParams&&(a=new URLSearchParams([["rid",n],["sid",o],["vid",i]]),e+="?".concat(a.toString())),[2,h(e,{method:"POST",baseUrl:r,body:t,headers:{},abortPreviousRequest:!1,waitForOnlineStatus:!0,doNotRetryOnDocumentHidden:!0})]}))}))},k=function(e){var t=e.formData,r=e.writerHost,n=e.recordId,o=e.sessionId,i=e.visitorId,a="/rec/v2/write";if(window.URLSearchParams){var s=new URLSearchParams([["rid",n],["sid",o],["vid",i]]);a+="?".concat(s.toString())}return v(a,{baseUrl:r,body:t})},R=function(e){var t=e.datadogHost,r=e.payload,n=e.projectKey;return h("/rec/log/".concat(n),{method:"POST",baseUrl:t,body:JSON.stringify(r),abortPreviousRequest:!1,throwOnConvert:!1})},I=function(e){var t=e.datadogHost,r=e.payload,n=e.projectKey;return v("/rec/log/".concat(n),{baseUrl:t,body:JSON.stringify(r)})}},7691:function(e,t,r){r.d(t,{M:function(){return i}});var n,o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(r,n,o,i,a,s,c,l,u){var d=e.call(this,r)||this;return d.status=n,d.responseTimingData=o,d.requestPayload=a,d.originalError=c,d.responseData=l,d.additionalData=u,d.name="ApiError",Object.setPrototypeOf(d,t.prototype),d.responseDebugData=s?function(e){return{url:e.url,bodyUsed:e.bodyUsed,ok:e.ok,headers:e.headers?Array.from(e.headers):void 0,type:e.type,redirected:e.redirected}}(s):void 0,d.isSignalAborted=null==i?void 0:i.aborted,d.visibilityState=document.visibilityState,d.isOffline=!1===navigator.onLine,d.wasBeaconFallbackUsed=!1,d}return o(t,e),Object.defineProperty(t.prototype,"isConnectionError",{get:function(){return this.status<0&&!this.isAbortedByRecorder&&!this.isAbortedByUserAgent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAbortedByRecorder",{get:function(){return this.isSignalAborted},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAbortedByUserAgent",{get:function(){var e;return this.originalError instanceof Error&&"AbortError"===(null===(e=this.originalError)||void 0===e?void 0:e.name)&&!this.isSignalAborted},enumerable:!1,configurable:!0}),t}(Error)},1593:function(e,t,r){r.d(t,{i:function(){return i}});var n,o=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(r,n){var o=void 0===n?{}:n,i=o.shouldReport,a=void 0===i||i,s=o.additionalData,c=void 0===s?{}:s,l=o.originalError,u=e.call(this,r)||this;return Object.setPrototypeOf(u,t.prototype),u.name="RecorderError",u.additionalData=c,u.shouldReport=a,l&&(u.originalName=l.name,u.originalStack=l.stack,u.originalMessage=l.message,u.originalError=l),l instanceof t&&(u.originalAdditionalData=l.additionalData),u}return o(t,e),t.prototype.toJSON=function(){return{name:this.name,originalName:this.originalName,message:this.message,shouldReport:this.shouldReport,additionalData:this.additionalData,stack:this.stack,originalStack:this.originalStack,originalAdditionalData:this.originalAdditionalData,originalMessage:this.originalMessage,originalError:this.originalError}},t}(Error)},6020:function(e,t,r){r.d(t,{O:function(){return o}});var n=r(50),o=function(){return(0,n.x0)()}},5246:function(e,t,r){r.d(t,{K:function(){return d},d:function(){return f}});var n=r(2593),o=r(6765),i=r(7691),a=r(1593),s=r(6020),c=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},l=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(e,t,r){return c(void 0,void 0,void 0,(function(){var s;return l(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),n.ZP.debug("Calling active endpoint in init."),[4,(0,o.BH)({sessionId:e,managerHost:t.managerHost,projectKey:t.projectKey})];case 1:return[2,c.sent()];case 2:return(s=c.sent())instanceof i.M?(s.isConnectionError||n.ZP.error("/active call failed on network error.",s),404===s.status&&r.clearStorage()):s instanceof a.i?s.shouldReport&&n.ZP.error("/active call failed on recorder error.",s):n.ZP.error("/active call failed on unknown error.",s),[3,3];case 3:return[2,null]}}))}))},d=function(e,t){var r,n,o,i,a=[],s=t.getCookieMetadataForProjectKey(e.projectKey);a.push({sessionId:null!==(r=null==s?void 0:s.sessionId)&&void 0!==r?r:null,visitorId:null!==(n=null==s?void 0:s.visitorId)&&void 0!==n?n:null});var c=t.getLocalStorageMetadataForProjectKey(e.projectKey),l=null!==(o=null==c?void 0:c.sessionId)&&void 0!==o?o:null,u=null!==(i=null==c?void 0:c.visitorId)&&void 0!==i?i:null;return a[0].sessionId===l&&a[0].visitorId===u||a.push({sessionId:l,visitorId:u}),a},f=function(e,t,r,n){return void 0===n&&(n=[]),c(void 0,void 0,void 0,(function(){var o,i,a,c,d,f,p,h,v,y;return l(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,7]),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),i=o.next(),l.label=1;case 1:return i.done?[3,4]:(a=i.value).sessionId?n.includes(a.sessionId)?[3,3]:[4,u(a.sessionId,t,r)]:[3,3];case 2:if(null==(c=l.sent())?void 0:c.isActive)return[2,{sessionId:a.sessionId,visitorId:null!==(h=a.visitorId)&&void 0!==h?h:(0,s.O)(),sessionTimeRemaining:c.sessionTimeRemaining}];l.label=3;case 3:return i=o.next(),[3,1];case 4:return[3,7];case 5:return d=l.sent(),f={error:d},[3,7];case 6:try{i&&!i.done&&(p=o.return)&&p.call(o)}finally{if(f)throw f.error}return[7];case 7:return[2,{sessionId:(0,s.O)(),visitorId:null!==(y=null===(v=e.find((function(e){return null!==e.visitorId})))||void 0===v?void 0:v.visitorId)&&void 0!==y?y:(0,s.O)()}]}}))}))}},8506:function(e,t,r){r.d(t,{P:function(){return i}});var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},i=function(e){try{return JSON.stringify(a(e,new WeakMap))}catch(e){return JSON.stringify("[non-serializable object]")}},a=function(e,t){return Array.isArray(e)?e.map((function(e){return a(e,t)})):"object"==typeof e&&null!==e?s(e,t):["function","symbol","bigint","undefined"].includes(typeof e)?typeof e:null===e||"number"==typeof e||"string"==typeof e?e:JSON.stringify(e)},s=function(e,t){var r,i,s=Object.keys(e);if((null===(i=e.constructor.name)||void 0===i?void 0:i.endsWith("Error"))&&!Object.hasOwn(e,"toJSON"))r=c(e);else if(1===s.length&&"isTrusted"===s[0]){var l=Object.keys(Object.getPrototypeOf(e));r=JSON.parse(JSON.stringify(e,o(o([],n(s),!1),n(l),!1)))}else r=function(e,t){var r,o;if(e.has(t))return"[circular]";e.set(t,!0);var i=[];try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(t)),c=s.next();!c.done;c=s.next()){var l=n(c.value,2),u=l[0],d=l[1];i.push([u,a(d,e)])}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return Object.fromEntries(i)}(t,e);return r},c=function(e){var t=JSON.parse(JSON.stringify(e));return t.name||(t.name=e.name),t.stack||(t.stack=e.stack),t.message||(t.message=e.message),t}},1035:function(e,t,r){r.d(t,{X:function(){return a}});var n=r(2593),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=["mousemove","click","keypress","touchmove","drag","wheel"],a=function(){return e=void 0,t=void 0,a=function(){var e,t,r,a,s,c,l,u,d;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){switch(f.label){case 0:return e=Array.from(document.querySelectorAll("iframe")),t=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([document],function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}(e.map((function(e){return e.contentDocument}))),!1),r=[],a=i.map((function(e){return new Promise((function(n){var i,a,s=function(t){t&&(r.push((function(){return t.removeEventListener(e,n,!0)})),t.addEventListener(e,n,!0))};try{for(var c=o(t),l=c.next();!l.done;l=c.next())s(l.value)}catch(e){i={error:e}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}))})),[4,Promise.any(a)];case 1:f.sent();try{for(s=o(r),c=s.next();!c.done;c=s.next()){l=c.value;try{l()}catch(e){n.ZP.debug("Listener could not be removed",e)}}}catch(e){u={error:e}}finally{try{c&&!c.done&&(d=s.return)&&d.call(s)}finally{if(u)throw u.error}}return[2]}}))},new((r=void 0)||(r=Promise))((function(n,o){function i(e){try{c(a.next(e))}catch(e){o(e)}}function s(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((a=a.apply(e,t||[])).next())}));var e,t,r,a}},50:function(e,t,r){r.d(t,{x0:function(){return n}});var n=function(e){return void 0===e&&(e=21),crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")}),"")}}},pe={};function he(e){var t=pe[e];if(void 0!==t)return t.exports;var r=pe[e]={exports:{}};return fe[e](r,r.exports,he),r.exports}he.m=fe,he.d=function(e,t){for(var r in t)he.o(t,r)&&!he.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},he.f={},he.e=function(e){return Promise.all(Object.keys(he.f).reduce((function(t,r){return he.f[r](e,t),t}),[]))},he.u=function(e){return"bundle.e0dcb9ef536ec68c4d1f.js"},he.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),he.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="@smartlook/recorder:",he.l=function(r,n,o,i){if(e[r])e[r].push(n);else{var a,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){a=u;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,he.nc&&a.setAttribute("nonce",he.nc),a.setAttribute("data-webpack",t+o),a.src=r,0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous")),e[r]=[n];var d=function(t,n){a.onerror=a.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),s&&document.head.appendChild(a)}},he.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;he.g.importScripts&&(e=he.g.location+"");var t=he.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),he.p=e}(),function(){var e={538:0};he.f.j=function(t,r){var n=he.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(r,o){n=e[t]=[r,o]}));r.push(n[2]=o);var i=he.p+he.u(t),a=new Error;he.l(i,(function(r){if(he.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var t=function(t,r){var n,o,i=r[0],a=r[1],s=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in a)he.o(a,n)&&(he.m[n]=a[n]);s&&s(he)}for(t&&t(r);c<i.length;c++)o=i[c],he.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunk_smartlook_recorder=self.webpackChunk_smartlook_recorder||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),p="smartlook_picker",h=(null===(r=document.currentScript)||void 0===r?void 0:r.src.replace("recorder.js","picker.95b6e269a0eddae86e93.js"))||"",v=function(){function e(){}return e.shouldStart=function(){return!(!window.sessionStorage.getItem(p)&&!window.localStorage.getItem(p))||document.referrer.indexOf("picker/4f249306-efd5-4127-b768-79a6750a7c5d-ca97caf7-335a-4e1f-b047-be42cb6098f9")>-1},e.start=function(){var e=document.createElement("script");e.src=h,document.head.append(e),window.sessionStorage.setItem(p,"1")},e}(),y=he(2593),g=he(6765),w=he(7691),m=he(897),b=function(){return b=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},b.apply(this,arguments)},O={banTime:3e5,externalLogging:!0,forceSetupData:null,host:(S={eu:"manager.eu.smartlook.cloud",us:"manager.us.smartlook.cloud"}).eu,managerHost:S.eu,upload:function(){return null},cookies:!0,loggingLevel:y.in.ERROR,userId:null,uploadInterval:3e3,record:{},region:"eu",startRecordingAfterUserActivity:!0,storageKeys:{SMARTLOOK_BAN_REASON:"smartlook_ban_reason",SMARTLOOK_BAN_EXPIRE:"smartlook_ban_expire",SMARTLOOK_COOKIE_DOMAIN:"SL_C_23361dd035530_DOMAIN",SMARTLOOK_COOKIE_KEY:"SL_C_23361dd035530_KEY",SMARTLOOK_COOKIE_SID:"SL_C_23361dd035530_SID",SMARTLOOK_COOKIE_VID:"SL_C_23361dd035530_VID",SMARTLOOK_DEBUG:"smartlook_debug",SMARTLOOK_LS_KEY:"SL_L_23361dd035530_KEY",SMARTLOOK_LS_SID:"SL_L_23361dd035530_SID",SMARTLOOK_LS_VID:"SL_L_23361dd035530_VID"},isRelayProxy:!1,isSmartsupp:!1},k=function(e,t,r){var n=Object.assign(O,b(b({},r),{projectKey:e,recorderVersion:t}));if(r.host){n.managerHost=n.host;var o=m.u(r.host);(!o.host.endsWith("smartlook.cloud")||o.host.endsWith("smartlook.cloud")&&o.host.includes("relay-proxy"))&&(n.managerHost=new URL("/manager",o).toString(),n.isRelayProxy=!0)}else if(r.region){var i=S[r.region];if(void 0===i)throw new Error("Unknown region");n.host=i,n.managerHost=i}return"f2353f89c956e0b7a93a0ab1b5cfbf01725acab2"===e&&(n.host=S.us,n.managerHost=S.us),n},R=he(1593),I=he(6020),E=he(5246),A=he(1035),L=function(e,t,r,n){if(void 0===window.smartlook.recorderClass)throw new R.i("Cannot initialize Smartlook. Smartlook class is not present.");window.smartlook.recorder=new window.smartlook.recorderClass(e,t,r,n),Object.defineProperties(window.smartlook,{consent:{get:function(){console.warn("This API (`window.smartlook.consent`) is no longer working. Please migrate to new `record` API. See more at https://docs.smartlook.com/docs/web/consent-sensitive-data guide.")}},playUrl:{get:function(){var e;try{return null===(e=window.smartlook.recorder)||void 0===e?void 0:e.playUrl}catch(e){y.ZP.warn("Cannot get playUrl: ".concat(e))}}},sessionId:{get:function(){var e;try{return null===(e=window.smartlook.recorder)||void 0===e?void 0:e.sessionId}catch(e){y.ZP.warn("Cannot get sessionId: ".concat(e))}}},visitorId:{get:function(){var e;try{return null===(e=window.smartlook.recorder)||void 0===e?void 0:e.visitorId}catch(e){y.ZP.warn("Cannot get visitorId: ".concat(e))}}},recordId:{get:function(){var e;try{return null===(e=window.smartlook.recorder)||void 0===e?void 0:e.recordId}catch(e){y.ZP.warn("Cannot get recordId: ".concat(e))}}},key:{get:function(){var e;try{return null===(e=window.smartlook.recorder)||void 0===e?void 0:e.projectKey}catch(e){y.ZP.warn("Cannot get key: ".concat(e))}}},version:{get:function(){return e.recorderVersion}},_debugData:{get:function(){var e;try{return null===(e=window.smartlook.recorder)||void 0===e?void 0:e.debugData}catch(e){y.ZP.warn("Cannot get _debugData: ".concat(e))}}}})},_=function(e,t){for(var r=e.domain,n=r.split("."),o=0;o<n.length-1&&!e.cookie.includes("".concat(t,"=true"));)o+=1,r=n.slice(-1-o).join("."),e.cookie="".concat(t,"=true;domain=").concat(r,";path=/;sameSite=strict;secure");return e.cookie="".concat(t,"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=").concat(r,";path=/;sameSite=strict;secure"),r},T=function(){function e(e){var t=e.useCookies,r=e.storageKeys;this.useCookies=t,this.storageKeys=r,this.removeCookie(this.storageKeys.SMARTLOOK_LS_SID),this.removeCookie(this.storageKeys.SMARTLOOK_LS_VID),this.removeCookie(this.storageKeys.SMARTLOOK_LS_KEY)}return e.prototype.clearStorage=function(){e.removeFromLocalStorage(this.storageKeys.SMARTLOOK_BAN_EXPIRE),e.removeFromLocalStorage(this.storageKeys.SMARTLOOK_BAN_REASON),e.removeFromLocalStorage(this.storageKeys.SMARTLOOK_DEBUG),e.removeFromLocalStorage(this.storageKeys.SMARTLOOK_LS_KEY),e.removeFromLocalStorage(this.storageKeys.SMARTLOOK_LS_SID),e.removeFromLocalStorage(this.storageKeys.SMARTLOOK_LS_VID),this.useCookies&&(this.removeCookie(this.storageKeys.SMARTLOOK_COOKIE_KEY),this.removeCookie(this.storageKeys.SMARTLOOK_COOKIE_SID),this.removeCookie(this.storageKeys.SMARTLOOK_COOKIE_VID))},e.prototype.getBanExpire=function(){return e.getLocalStorage(this.storageKeys.SMARTLOOK_BAN_EXPIRE)},e.prototype.getBanReason=function(){return e.getLocalStorage(this.storageKeys.SMARTLOOK_BAN_REASON)},e.prototype.getCookieMetadataForProjectKey=function(t){return this.useCookies?t!==e.getCookie(this.storageKeys.SMARTLOOK_COOKIE_KEY)?null:{sessionId:e.getCookie(this.storageKeys.SMARTLOOK_COOKIE_SID),visitorId:e.getCookie(this.storageKeys.SMARTLOOK_COOKIE_VID)}:null},e.prototype.getLocalStorageMetadataForProjectKey=function(t){return t!==e.getLocalStorage(this.storageKeys.SMARTLOOK_LS_KEY)?null:{sessionId:e.getLocalStorage(this.storageKeys.SMARTLOOK_LS_SID),visitorId:e.getLocalStorage(this.storageKeys.SMARTLOOK_LS_VID)}},e.prototype.isRecorderInDebugMode=function(){return Boolean(e.getLocalStorage(this.storageKeys.SMARTLOOK_DEBUG))},e.prototype.removeBanExpire=function(){e.removeFromLocalStorage(this.storageKeys.SMARTLOOK_BAN_EXPIRE)},e.prototype.removeBanReason=function(){e.removeFromLocalStorage(this.storageKeys.SMARTLOOK_BAN_REASON)},e.prototype.setBanExpire=function(t){e.setLocalStorage(this.storageKeys.SMARTLOOK_BAN_EXPIRE,t)},e.prototype.setBanReason=function(t){e.setLocalStorage(this.storageKeys.SMARTLOOK_BAN_REASON,t)},e.prototype.setMetadata=function(e,t,r){this.setCookieMetadata(e,t,r),this.setLocalStorageMetadata(e,t,r)},e.getCookie=function(e){var t=document.cookie.split(";");try{for(var r=0;r<t.length;r+=1){var n=t[r].trim().split("=");if(n[0]===e)return n[1]}}catch(e){}return null},e.getCookieExpirationDate=function(){var e=new Date;return e.setMonth(e.getMonth()+13),e.toString()},e.getLocalStorage=function(e){var t=null;try{t=window.localStorage.getItem(e)}catch(e){}return t},e.removeFromLocalStorage=function(e){window.localStorage.removeItem(e)},e.setLocalStorage=function(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return!1}},e.prototype.removeCookie=function(e){window.document.cookie="".concat(e,"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=").concat(_(document,this.storageKeys.SMARTLOOK_COOKIE_DOMAIN),";path=/")},e.prototype.setCookie=function(t,r){r&&(window.document.cookie="".concat(t,"=").concat(r,";expires=").concat(e.getCookieExpirationDate(),";domain=").concat(_(document,this.storageKeys.SMARTLOOK_COOKIE_DOMAIN),";path=/;sameSite=strict;secure"))},e.prototype.setCookieMetadata=function(e,t,r){this.useCookies&&(this.setCookie(this.storageKeys.SMARTLOOK_COOKIE_KEY,r),this.setCookie(this.storageKeys.SMARTLOOK_COOKIE_SID,e),this.setCookie(this.storageKeys.SMARTLOOK_COOKIE_VID,t))},e.prototype.setLocalStorageMetadata=function(t,r,n){e.setLocalStorage(this.storageKeys.SMARTLOOK_LS_KEY,n),e.setLocalStorage(this.storageKeys.SMARTLOOK_LS_SID,t),e.setLocalStorage(this.storageKeys.SMARTLOOK_LS_VID,r)},e}(),P=function(){function e(){}return e.prototype.getServerTime=function(){if(void 0===this.lastServerTime||void 0===this.relativeTimeSinceLastServerTimeSet)throw new R.i("Server time is undefined",{shouldReport:!0,additionalData:{lastServerTime:this.lastServerTime,relativeTimeSinceLastServerTimeSet:this.relativeTimeSinceLastServerTimeSet}});return new Date(this.lastServerTime.getTime()+performance.now()-this.relativeTimeSinceLastServerTimeSet)},e.prototype.getServerTimeISOString=function(){return this.getServerTime().toISOString()},e.prototype.setServerTime=function(e){this.lastServerTime=new Date(e),this.relativeTimeSinceLastServerTimeSet=performance.now()},e}(),K=function(){function e(e,t,r,n){var o=this;if(this.persistentStorageManager=e,this.startRecording=t,this.stopRecording=r,this.banTime=n,this.isAppliedBan(!0)){var i=this.persistentStorageManager.getBanExpire();if(i){var a=Number.parseInt(i,10)-Date.now();a>0&&(y.ZP.debug("BAN is applied. Waiting ".concat(a,"ms.")),this.banTimeoutId=setTimeout((function(){o.banTimeoutId=void 0,o.startRecording()}),a))}}}return e.prototype.applyBan=function(e){var t=this;if("hidden"!==document.visibilityState){e.shouldReport&&y.ZP.error('Applying ban. Reason: "'.concat(e.message,'".'),e);var r=Date.now()+this.banTime;if(this.persistentStorageManager.setBanExpire(r.toString()),this.persistentStorageManager.setBanReason(e.message),void 0!==this.banTimeoutId)clearTimeout(this.banTimeoutId);else try{this.stopRecording()}catch(e){}this.banTimeoutId=setTimeout((function(){t.banTimeoutId=void 0;try{t.startRecording()}catch(t){y.ZP.error("Cannot start recording after BAN expired",t,{banReason:e.message})}}),this.banTime)}},e.prototype.getBanReason=function(){var e;return null!==(e=this.persistentStorageManager.getBanReason())&&void 0!==e?e:""},e.prototype.isAppliedBan=function(e){if(void 0===e&&(e=!1),!e)return void 0!==this.banTimeoutId;var t=this.persistentStorageManager.getBanExpire();return!!(t&&Number.parseInt(t,10)>Date.now())||(this.persistentStorageManager.removeBanExpire(),this.persistentStorageManager.removeBanReason(),!1)},e}(),M=he(50),C=he(8506),x=function(){return x=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},x.apply(this,arguments)},j=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},D=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},N=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},B=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},U=function(){function e(e,t,r,n){var o=this;this.uploadInterval=e,this.recorderVersion=t,this.datadogHost=r,this.projectKey=n,this.logMessagesCache=new Map,this.logsToSend=[],this.uuid=(0,M.x0)(),this.sendLog=function(e,t,r){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];if(t===y.in.ERROR||"internal"===e){var a=o.logMessagesCache.get(r),s=performance.now();if(o.logMessagesCache.set(r,s),void 0!==a&&s-a<1e3)return;o.logsToSend.push(o.createLog.apply(o,B([r,t],N(n),!1))),"hidden"===document.visibilityState&&o.processLogs()}},this.createLog=function(e,t){for(var r,n,i,a,s,c,l,u,d,f=[],p=2;p<arguments.length;p++)f[p-2]=arguments[p];var h=Object.fromEntries(f.map((function(e,t){return[t,JSON.parse((0,C.P)(e))]})));return{message:e,context:x({origin:null!==(r=window.location.origin)&&void 0!==r?r:"unknown",playUrl:null!==(n=window.smartlook.playUrl)&&void 0!==n?n:"unknown",visitorId:null!==(i=window.smartlook.visitorId)&&void 0!==i?i:"unknown",sessionId:null!==(a=window.smartlook.sessionId)&&void 0!==a?a:"unknown",recordId:null!==(s=window.smartlook.recordId)&&void 0!==s?s:"unknown",uuid:o.uuid,url:null!==(l=null===(c=window.location)||void 0===c?void 0:c.href)&&void 0!==l?l:"unknown",userAgent:null!==(d=null===(u=window.navigator)||void 0===u?void 0:u.userAgent)&&void 0!==d?d:"unknown",datadogHost:o.datadogHost,visibilityState:document.visibilityState},h),severity:y.jj[t],tags:{},timestamp:Date.now()}},this.handleError=function(e){e.error instanceof R.i&&e.error.shouldReport&&(o.logsToSend.push(o.createLog("Uncaught error: ".concat(e.error),y.in.ERROR,e.error)),"hidden"===document.visibilityState&&o.processLogs())},this.handlePromiseRejection=function(e){e.reason instanceof R.i&&e.reason.shouldReport&&(o.logsToSend.push(o.createLog("Unhandled promise rejection: ".concat(e.reason),y.in.ERROR,e.reason)),"hidden"===document.visibilityState&&o.processLogs())},this.processLogIntervalId=setInterval((function(){o.processLogs()}),this.uploadInterval),window.addEventListener("error",this.handleError,!0),window.addEventListener("unhandledrejection",this.handlePromiseRejection,!0),document.addEventListener("visibilitychange",(function(e){e.isTrusted&&"hidden"===document.visibilityState&&(o.processLogs(),setTimeout((function(){o.processLogs()}),500))}),!0)}return e.prototype.processLogs=function(){return j(this,void 0,void 0,(function(){var e,t,r;return D(this,(function(n){switch(n.label){case 0:if(!(this.logsToSend.length>0))return[3,7];e=this.logsToSend,this.logsToSend=[],t={tags:{platform:"web",sdkVersion:this.recorderVersion,userAgent:navigator.userAgent},logs:e},n.label=1;case 1:return n.trys.push([1,6,,7]),"visible"!==document.visibilityState?[3,3]:[4,(0,g.jq)({datadogHost:this.datadogHost,payload:t,projectKey:this.projectKey})];case 2:return n.sent(),[3,5];case 3:return[4,(0,g.x2)({datadogHost:this.datadogHost,payload:t,projectKey:this.projectKey})];case 4:n.sent(),n.label=5;case 5:return[3,7];case 6:return n.sent(),(r=this.logsToSend).push.apply(r,B([],N(e),!1)),[3,7];case 7:return[2]}}))}))},e}(),F=function(e){var t,r=new T({useCookies:e.cookies,storageKeys:e.storageKeys}),n=new P,o=new K(r,(function(){return window.smartlook("reinit",e.projectKey,e)}),(function(){return window.smartlook("stop")}),e.banTime);return e.externalLogging&&(t=new U(e.uploadInterval,e.recorderVersion,e.managerHost,e.projectKey)),y.ZP.setLoggingLevel(r.isRecorderInDebugMode()?y.in.DEBUG:e.loggingLevel),t&&y.ZP.setMiddleware(t.sendLog),{persistentStorageManager:r,banService:o,timeManager:n}},H=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Z=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},J=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},q=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},G=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return H(void 0,void 0,void 0,(function(){var n,o,i,a,s,c,l,u,d,f,p,h,v;return Z(this,(function(g){switch(g.label){case 0:if(g.trys.push([0,28,,29]),"finish"===e)return n=r,window.smartlook.recorder?(i=window.smartlook.recorder).finishAllQueuedTasks.apply(i,q([],J(r),!1)):n[0](),[2];if("stop"===e)return window.smartlook.recorder&&(a=window.smartlook.recorder).stopRecording.apply(a,q([],J(r),!1)),[2];if(t.isAppliedBan())return y.ZP.warn("Cannot call smartlook API. Session is banned. Reason: ".concat(t.getBanReason(),".")),[2];if(!window.smartlook.recorder)return y.ZP.warn("Smartlook is not initialized. Cannot call public api."),[2];switch(e){case"record":return[3,1];case"resume":return[3,3];case"pause":return[3,5];case"error":return[3,7];case"track":return[3,9];case"navigation":return[3,11];case"disable":return[3,13];case"properties":return[3,17];case"identify":return[3,19];case"anonymize":return[3,21];case"consentIP":return[3,23];case"consentAPI":return[3,24];case"consentForms":return[3,25]}return[3,26];case 1:return[4,(s=window.smartlook.recorder).setRecording.apply(s,q([],J(r),!1))];case 2:return g.sent(),[3,27];case 3:return[4,(c=window.smartlook.recorder).resumeRecording.apply(c,q([],J(r),!1))];case 4:return g.sent(),[3,27];case 5:return[4,(l=window.smartlook.recorder).pauseRecording.apply(l,q([],J(r),!1))];case 6:return g.sent(),[3,27];case 7:return[4,(u=window.smartlook.recorder).logCustomError.apply(u,q([],J(r),!1))];case 8:return g.sent(),[3,27];case 9:return[4,(d=window.smartlook.recorder).logCustomEvent.apply(d,q([],J(r),!1))];case 10:return g.sent(),[3,27];case 11:return[4,(f=window.smartlook.recorder).changeUrl.apply(f,q([],J(r),!1))];case 12:return g.sent(),[3,27];case 13:return!0!==r[0]?[3,14]:(window.smartlook.recorder.pauseRecording(),[3,16]);case 14:return!1!==r[0]?[3,16]:[4,window.smartlook.recorder.resumeRecording()];case 15:g.sent(),g.label=16;case 16:return[3,27];case 17:return[4,(p=window.smartlook.recorder).setCustomEventProperties.apply(p,q([],J(r),!1))];case 18:return g.sent(),[3,27];case 19:return[4,(h=window.smartlook.recorder).identifyVisitor.apply(h,q([],J(r),!1))];case 20:return g.sent(),[3,27];case 21:return[4,(v=window.smartlook.recorder).anonymize.apply(v,q([],J(r),!1))];case 22:return g.sent(),[3,27];case 23:return console.warn("This API (`consentIP`) is no longer working. Please migrate to new `record` API. See more at https://docs.smartlook.com/docs/web/consent-sensitive-data guide."),[3,27];case 24:return console.warn("This API (`consentAPI`) is no longer working. Please migrate to new `record` API. See more at https://docs.smartlook.com/docs/web/consent-sensitive-data guide."),[3,27];case 25:return console.warn("This API (`consentForms`) is no longer working. Please migrate to new `record` API. See more at https://docs.smartlook.com/docs/web/consent-sensitive-data guide."),[3,27];case 26:return"function"==typeof e&&e(),[3,27];case 27:return[3,29];case 28:return(o=g.sent())instanceof R.i&&!o.shouldReport?y.ZP.warn(o.message):o instanceof Error?console.warn(o.message,o):console.error(JSON.stringify(o)),[3,29];case 29:return[2]}}))}))},V=function(){return V=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},V.apply(this,arguments)},W=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},Y=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},z=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},X=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},$=function(){return!!window.navigator.userAgent.includes("BingPreview")||!!window.navigator.userAgent.includes("adidxbot")||!!window.navigator.userAgent.includes("Bingbot")},Q=!1,ee=!1,te=!0,re=[],ne=[],oe=!1,ie=!1,ae=0,se=!1,ce=!1,le=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return W(void 0,void 0,void 0,(function(){var r,l,u,d,f,p,h,v,m,b,S,O,_,T,P,K,M,C,x,j,D,N,B,U,H;return Y(this,(function(Z){switch(Z.label){case 0:return $()?(console.warn("Smartlook is disabled. Bot detected."),[2]):"visitor_blocked"!==o||!c||"identify"!==e||ce?[3,2]:(ce=!0,r=z(t,1),"string"!=typeof(l=r[0])&&"number"!=typeof l||"string"==typeof l&&!l?(console.warn("Invalid user id passed to smartlook('identify', ...). Received: ".concat(l)),ce=!1,[2]):(u=new Promise((function(r){ne.unshift([e,r,t]),ne.unshift.apply(ne,X([],z(re),!1))})).finally((function(){ce=!1})),[4,le("reinit",c.projectKey,V(V({},c),{userId:String(l)}))]));case 1:return Z.sent(),[2,u];case 2:return["init","finish","reinit"].includes(e)||Q&&!se?"init"!==e&&"reinit"!==e?[3,20]:("reinit"===e&&(se=!0),"init"===e&&(ae+=1),ae>1?(y.ZP.debug("Init called ".concat(ae,"x times. Skipping initialization.")),"reinit"===e&&(se=!1),[2]):(d=z(t,3),f=d[1],p=d[2],h=z(t,1),"string"==typeof(v=h[0])&&(v=v.trim()),void 0===v||"string"==typeof v&&0===v.length?(console.warn("Smartlook could not be initialized. Provided project key is empty."),"reinit"===e&&(se=!1),[2]):(c=k(v,"v1.9.0-7-g69bd10ee",null!=f?f:{})).startRecordingAfterUserActivity?[4,(0,A.X)()]:[3,4])):[2,new Promise((function(r){ne.push([e,r,t])}))];case 3:Z.sent(),Z.label=4;case 4:return oe||(m=F(c),a=m.persistentStorageManager,i=m.banService,s=m.timeManager,oe=!0),y.ZP.debug("Init called."),i.isAppliedBan()?(y.ZP.debug("BAN is applied. Initialization is postponed."),p&&p(),"reinit"===e&&(se=!1),[2]):(b=(0,E.K)(c,a),[4,(0,E.d)(b,c,a)]);case 5:S=Z.sent(),O=S.sessionId,_=S.visitorId,T=S.sessionTimeRemaining,P=void 0,Z.label=6;case 6:return Z.trys.push([6,17,18,19]),[4,(0,g.O5)({config:c,sessionId:O,visitorId:_})];case 7:if(!(P=Z.sent()).recordingAllowed)return[3,15];if(a.setMetadata(O,_,c.projectKey),s.setServerTime(P.serverTime),te=!0,o=void 0,n=void 0,ee)return[3,12];Z.label=8;case 8:return Z.trys.push([8,10,,11]),[4,he.e(296).then(he.bind(he,3333))];case 9:return Z.sent(),[3,11];case 10:return Z.sent(),ie=!0,[3,11];case 11:ie||(L(c,a,i,s),ee=!0),Z.label=12;case 12:return ie?[3,14]:(void 0!==T&&T<P.recording.maxRecordDuration/3&&(O=(0,I.O)()),[4,null===(j=window.smartlook.recorder)||void 0===j?void 0:j.startRecording(O,_,P,T)]);case 13:Z.sent(),Z.label=14;case 14:return[3,16];case 15:te=!1,n=null===(D=P.error)||void 0===D?void 0:D.message,o=null===(N=P.error)||void 0===N?void 0:N.code,(null===(B=P.error)||void 0===B?void 0:B.message)?console.warn("Smartlook not recording. Reason: ".concat(P.error.message,".")):console.warn("Smartlook not recording."),Z.label=16;case 16:return[3,19];case 17:return K=Z.sent(),M=K instanceof Error?K.message:"Unknown reason /setup",K instanceof w.M?(C=K.isAbortedByUserAgent&&"hidden"===K.visibilityState,[404,422].includes(K.status)?(te=!1,n="string"==typeof(null===(U=K.responseData)||void 0===U?void 0:U.message)?K.responseData.message:"Unknown reason",o="string"==typeof(null===(H=K.responseData)||void 0===H?void 0:H.code)?K.responseData.code:"unknown_code",console.warn("Smartlook not recording. Reason: ".concat(n),K.responseData),y.ZP.warnNoConsole("Setup failed. Reason: ".concat(M,"."),K,fetch.toString())):C||i.applyBan(new R.i("Setup failed. Reason: ".concat(M,"."),{originalError:K,shouldReport:!K.isConnectionError}))):K instanceof Error&&(K.message.includes("Cannot set properties of undefined")||K.message.includes("undefined is not an object (evaluating 'this.sessionManager=e')")||K.message.includes("this is undefined"))?ie=!0:i.applyBan(new R.i('Setup failed. Reason: "'.concat(M,'".'),{originalError:K instanceof Error?K:void 0})),[3,19];case 18:return Q=!0,[7];case 19:return"reinit"===e&&(se=!1),x=X([],z(ne),!1),ne=[],queueMicrotask((function(){x.forEach((function(e){var t=z(e,3),r=t[0],n=t[1],o=t[2];le.apply(void 0,X([r],z(o),!1)).finally(n)}))})),p&&p(),[2];case 20:return te||"finish"===e?ie?(y.ZP.debug("Cannot call ".concat(e,". Bundle failed to load.")),[2]):[3,21]:(y.ZP.warn("Cannot call ".concat(e,". Recording is disabled. Reason ").concat(null!=n?n:"unknown",".")),"visitor_blocked"===o&&re.push([e,function(){return null},t]),[2]);case 21:return[4,G.apply(void 0,X([e,i],z(t),!1))];case 22:Z.sent(),Z.label=23;case 23:return[2]}}))}))},ue=function(){var e,t,r=null!==(t=null===(e=window.smartlook)||void 0===e?void 0:e.api)&&void 0!==t?t:[];window.smartlook=le,r.forEach((function(e){var t=z(X([],z(e),!1)),r=t[0],n=t.slice(1);window.smartlook.apply(window,X([r],z(n),!1))}))},de=(null===(l=document.currentScript)||void 0===l?void 0:l.src)||"",v.shouldStart()?v.start():function(){var e,t,r,n,o,i,a,s,c;return-1===[window.queueMicrotask,Array.from,null===(e=Array.prototype)||void 0===e?void 0:e.find,null===(t=Array.prototype)||void 0===t?void 0:t.flat,null===(r=Array.prototype)||void 0===r?void 0:r.flatMap,null===(n=Array.prototype)||void 0===n?void 0:n.includes,null===(o=Element.prototype)||void 0===o?void 0:o.append,null===(i=Event.prototype)||void 0===i?void 0:i.composedPath,"getRootNode"in(Node.prototype||{}),"isConnected"in(Node.prototype||{}),Object.assign,Object.entries,Object.fromEntries,Object.hasOwn,Object.setPrototypeOf,Object.values,String.prototype.includes,window.fetch,window.AbortController,window.MessageChannel,window.MessagePort,null===(a=window.navigator)||void 0===a?void 0:a.sendBeacon,window.requestIdleCallback,null===(s=window.Promise)||void 0===s?void 0:s.any,window.ResizeObserver,null===(c=window.Symbol)||void 0===c?void 0:c.asyncIterator,window.Reflect].map(Boolean).indexOf(!1)}()?ue():(u=ue,d=de.replace("recorder.js","polyfills.e2a1843abf3bfc11e613.js"),(f=document.createElement("script")).src=d,f.addEventListener("load",u,!0),document.head.appendChild(f))}();